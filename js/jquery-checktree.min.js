!function(e){e.fn.extend({checktree:function(){e(this).addClass("checktree-root").on("change",'input[type="checkbox"]',function(n){n.stopPropagation(),n.preventDefault(),t(e(this)),i(e(this))});var t=function(i){var n=i.parents("ul:eq(0)").parents("li:eq(0)");if(n.length){var s=parseInt(e('input[type="checkbox"]:checked',i.parents("ul:eq(0)")).length),r=n.find('input[type="checkbox"]:eq(0)');i.is(":checked")?r.prop("checked",!0):0===s&&r.prop("checked",!1),t(r)}},i=function(t){var i=e('ul li input[type="checkbox"]',t.parents("li:eq(0)"));i.length&&i.prop("checked",t.is(":checked"))}}})}(jQuery);